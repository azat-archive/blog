{% extends 'BlogWeb::layout.html.twig' %}

{% block content %}
	<div class="post">
		<a name="pid_{{ post.id }}"></a>
		<h4 class="title">{{ post.title }}</h4>
		<p class="content">{{ post.content }}</p>
		<p class="author">{{ post.user.login }}</p>

		<div class="actions">
			{% if post.canEdit(user) %}
			<a href="{{ path('_posts_edit', { 'pid': post.id }) }}">Edit</a>
			{% endif %}
			{% if post.canDelete(user) %}
			<a href="{{ path('_posts_delete', { 'pid': post.id }) }}">Delete</a>
			{% endif %}
		</div>
	</div>

	{% render 'BlogWeb:Comments:show' with {'pid': post.id} %}
	{% if commentEdit %}
	{% render 'BlogWeb:Comments:edit'  with {'pid': post.id, 'cid': commentEdit} %}
	{% else %}
	{% render 'BlogWeb:Comments:add'  with {'pid': post.id} %}
	{% endif %}
{% endblock %}